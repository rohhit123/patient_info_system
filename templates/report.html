<!DOCTYPE html>
<html>
<head>
    <title>Add Report</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="navbar">
        <a href="{{ url_for('dashboard') }}">Dashboard</a>
        <a href="{{ url_for('appointment') }}">Appointments</a>
        <a href="{{ url_for('report') }}">Reports</a>
        <a href="{{ url_for('logout') }}">Logout</a>
    </div>

    <h2>Add Report</h2>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <ul class="flash-messages">
          {% for category, message in messages %}
            <li class="{{ category }}">{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    <form method="POST">
        <input type="text" name="patient_name" placeholder="Patient Name" required><br>
        <textarea name="report_details" placeholder="Report Details" required></textarea><br>
        <button type="submit">Add Report</button>
    </form>

    <h3>All Reports</h3>
    {% if reports %}
        <ul>
        {% for r in reports %}
            <li>{{ r.patient_name }} - {{ r.date_created.strftime("%Y-%m-%d %H:%M") }}: {{ r.report_details }}</li>
        {% endfor %}
        </ul>
    {% else %}
        <p>No reports yet.</p>
    {% endif %}
</body>
</html>
